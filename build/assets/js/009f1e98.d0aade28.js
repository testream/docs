"use strict";(globalThis.webpackChunktestream_docs=globalThis.webpackChunktestream_docs||[]).push([[715],{3511(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"getting-started/configuration","title":"Configuration","description":"Learn how to configure Testream reporters, API keys, and environment variables for different environments.","source":"@site/docs/getting-started/configuration.md","sourceDirName":"getting-started","slug":"/getting-started/configuration","permalink":"/docs/getting-started/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/testream/docs/tree/main/docs/getting-started/configuration.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/docs/getting-started/quick-start"},"next":{"title":"Playwright Reporter","permalink":"/docs/reporters/playwright"}}');var t=i(4848),s=i(8453);const l={sidebar_position:3},d="Configuration",c={},a=[{value:"Environment Variables",id:"environment-variables",level:2},{value:"TESTREAM_API_KEY",id:"testream_api_key",level:3},{value:"TESTREAM_API_URL (Optional)",id:"testream_api_url-optional",level:3},{value:"CI/CD Configuration",id:"cicd-configuration",level:2},{value:"GitHub Actions",id:"github-actions",level:3},{value:"GitLab CI",id:"gitlab-ci",level:3},{value:"Jenkins",id:"jenkins",level:3},{value:"CircleCI",id:"circleci",level:3},{value:"Reporter-Specific Configuration",id:"reporter-specific-configuration",level:2},{value:"Playwright Reporter",id:"playwright-reporter",level:3},{value:".NET Reporter",id:"net-reporter",level:3},{value:"GitHub Action",id:"github-action",level:3},{value:"Security Best Practices",id:"security-best-practices",level:2},{value:"\u2705 DO",id:"-do",level:3},{value:"\u274c DON&#39;T",id:"-dont",level:3},{value:"Example: Secure .env Setup",id:"example-secure-env-setup",level:3},{value:"Multiple Environments",id:"multiple-environments",level:2},{value:"Separate Keys per Environment",id:"separate-keys-per-environment",level:3},{value:"Load Based on Environment",id:"load-based-on-environment",level:3},{value:"What&#39;s Next?",id:"whats-next",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,t.jsx)(n.p,{children:"Learn how to configure Testream reporters, API keys, and environment variables for different environments."}),"\n",(0,t.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,t.jsx)(n.h3,{id:"testream_api_key",children:"TESTREAM_API_KEY"}),"\n",(0,t.jsx)(n.p,{children:"The API key for authenticating with Testream services."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"How to obtain:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Log in to ",(0,t.jsx)(n.a,{href:"https://testream.app",children:"testream.app"})]}),"\n",(0,t.jsx)(n.li,{children:"Navigate to Settings \u2192 API Keys"}),"\n",(0,t.jsx)(n.li,{children:'Click "Create API Key"'}),"\n",(0,t.jsx)(n.li,{children:"Copy and securely store the generated key"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Local development\nexport TESTREAM_API_KEY=your_api_key_here\n\n# Or in .env file\nTESTREAM_API_KEY=your_api_key_here\n"})}),"\n",(0,t.jsx)(n.h3,{id:"testream_api_url-optional",children:"TESTREAM_API_URL (Optional)"}),"\n",(0,t.jsx)(n.p,{children:"Override the default API endpoint URL. Useful for testing or enterprise deployments."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Default:"})," ",(0,t.jsx)(n.code,{children:"https://api.testream.app"})," (configured in backend)"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Custom API endpoint\nexport TESTREAM_API_URL=https://custom-api.example.com\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"cicd-configuration",children:"CI/CD Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"github-actions",children:"GitHub Actions"}),"\n",(0,t.jsx)(n.p,{children:"Store secrets in your repository settings:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Repository \u2192 Settings \u2192 Secrets and variables \u2192 Actions"}),"\n",(0,t.jsxs)(n.li,{children:["Create ",(0,t.jsx)(n.code,{children:"TESTREAM_API_KEY"})," secret"]}),"\n",(0,t.jsx)(n.li,{children:"Reference in workflows:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"env:\n  TESTREAM_API_KEY: ${{ secrets.TESTREAM_API_KEY }}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"gitlab-ci",children:"GitLab CI"}),"\n",(0,t.jsx)(n.p,{children:"Add variables in GitLab CI/CD settings:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title=".gitlab-ci.yml"',children:"test:\n  script:\n    - npm test\n  variables:\n    TESTREAM_API_KEY: $TESTREAM_API_KEY\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Store ",(0,t.jsx)(n.code,{children:"TESTREAM_API_KEY"})," in: Settings \u2192 CI/CD \u2192 Variables"]}),"\n",(0,t.jsx)(n.h3,{id:"jenkins",children:"Jenkins"}),"\n",(0,t.jsx)(n.p,{children:"Use Jenkins credentials:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-groovy",children:"pipeline {\n  environment {\n    TESTREAM_API_KEY = credentials('testream-api-key')\n  }\n  stages {\n    stage('Test') {\n      steps {\n        sh 'npm test'\n      }\n    }\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"circleci",children:"CircleCI"}),"\n",(0,t.jsx)(n.p,{children:"Configure environment variables in project settings:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:'title=".circleci/config.yml"',children:"jobs:\n  test:\n    steps:\n      - run:\n          name: Run tests\n          command: npm test\n          environment:\n            TESTREAM_API_KEY: $TESTREAM_API_KEY\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"reporter-specific-configuration",children:"Reporter-Specific Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"playwright-reporter",children:"Playwright Reporter"}),"\n",(0,t.jsxs)(n.p,{children:["Configure in ",(0,t.jsx)(n.code,{children:"playwright.config.ts"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { defineConfig } from '@playwright/test';\n\nexport default defineConfig({\n  reporter: [\n    ['@testream/playwright-reporter', {\n      // Required: Enable uploads\n      upload: true,\n\n      // Required: API key (use environment variable)\n      apiKey: process.env.TESTREAM_API_KEY,\n\n      // Optional: API endpoint URL\n      apiUrl: process.env.TESTREAM_API_URL,\n\n      // Optional: Output file path\n      outputFile: 'test-results/ctrf-report.json',\n\n      // Optional: Upload artifacts (screenshots, videos, traces)\n      uploadArtifacts: true,\n\n      // Optional: Minimal reporter (less console output)\n      minimal: false,\n\n      // Optional: Print summary at the end\n      printSummary: true,\n    }],\n  ],\n});\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Available Options:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Default"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"upload"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:"Enable automatic upload to Testream"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"apiKey"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"undefined"})}),(0,t.jsx)(n.td,{children:"Testream API key (required if upload is true)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"apiUrl"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"backend default"}),(0,t.jsx)(n.td,{children:"Override API endpoint URL"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"outputFile"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"'ctrf-report.json'"})}),(0,t.jsx)(n.td,{children:"Path to save CTRF report"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"uploadArtifacts"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"true"})}),(0,t.jsx)(n.td,{children:"Upload screenshots, videos, and traces"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"minimal"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"false"})}),(0,t.jsx)(n.td,{children:"Reduce console output"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"printSummary"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"true"})}),(0,t.jsx)(n.td,{children:"Print test summary"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"net-reporter",children:".NET Reporter"}),"\n",(0,t.jsx)(n.p,{children:"Configure via CLI arguments:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"testream-dotnet \\\n  --file TestResults.trx \\\n  --apiKey $TESTREAM_API_KEY \\\n  --apiUrl https://api.testream.app \\\n  --output ctrf-report.json\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"CLI Options:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Option"}),(0,t.jsx)(n.th,{children:"Alias"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--file"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-f"})}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"Path to test results file (TRX, xUnit, NUnit)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--apiKey"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-k"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"API key for upload (can use env var)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--apiUrl"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-u"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Override API endpoint"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--output"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"-o"})}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Output CTRF file path"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"--upload"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Enable upload (automatically enabled if apiKey is provided)"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"github-action",children:"GitHub Action"}),"\n",(0,t.jsx)(n.p,{children:"Configure in workflow YAML:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"- uses: testream/upload-action@v0.4.1\n  with:\n    # Required: API key\n    apiKey: ${{ secrets.TESTREAM_API_KEY }}\n\n    # Optional: API URL\n    apiUrl: 'https://api.testream.app'\n\n    # Optional: Path to CTRF report\n    ctrfPath: 'ctrf-report.json'\n\n    # Optional: Glob pattern for artifacts\n    artifacts: 'test-results/**/*.{png,jpg,webm,mp4}'\n\n    # Optional: Working directory\n    workingDirectory: './'\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"-do",children:"\u2705 DO"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Store API keys in environment variables or secrets managers"}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:".env"})," files for local development (and add to ",(0,t.jsx)(n.code,{children:".gitignore"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Rotate API keys regularly"}),"\n",(0,t.jsx)(n.li,{children:"Use separate API keys for different environments (dev, staging, prod)"}),"\n",(0,t.jsx)(n.li,{children:"Limit API key permissions if possible"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-dont",children:"\u274c DON'T"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Commit API keys to version control"}),"\n",(0,t.jsx)(n.li,{children:"Share API keys in plain text (Slack, email, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"Use production API keys in development"}),"\n",(0,t.jsx)(n.li,{children:"Hardcode API keys in source code"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"example-secure-env-setup",children:"Example: Secure .env Setup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title=".env"',children:"# Local development only - DO NOT commit this file!\nTESTREAM_API_KEY=your_dev_api_key_here\nTESTREAM_API_URL=https://api.testream.app\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title=".gitignore"',children:"# Ignore environment files\n.env\n.env.local\n.env.*.local\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"multiple-environments",children:"Multiple Environments"}),"\n",(0,t.jsx)(n.h3,{id:"separate-keys-per-environment",children:"Separate Keys per Environment"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title=".env.development"',children:"TESTREAM_API_KEY=dev_key_here\nTESTREAM_API_URL=https://dev-api.testream.app\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title=".env.production"',children:"TESTREAM_API_KEY=prod_key_here\nTESTREAM_API_URL=https://api.testream.app\n"})}),"\n",(0,t.jsx)(n.h3,{id:"load-based-on-environment",children:"Load Based on Environment"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="playwright.config.ts"',children:"import { defineConfig } from '@playwright/test';\nimport dotenv from 'dotenv';\n\n// Load environment-specific config\nconst envFile = process.env.NODE_ENV === 'production'\n  ? '.env.production'\n  : '.env.development';\n\ndotenv.config({ path: envFile });\n\nexport default defineConfig({\n  reporter: [\n    ['@testream/playwright-reporter', {\n      upload: true,\n      apiKey: process.env.TESTREAM_API_KEY,\n      apiUrl: process.env.TESTREAM_API_URL,\n    }],\n  ],\n});\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"whats-next",children:"What's Next?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Learn about specific reporters:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../reporters/playwright",children:"Playwright Reporter"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../reporters/dotnet",children:".NET Reporter"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Set up ",(0,t.jsx)(n.a,{href:"../github-action/setup",children:"GitHub Action workflows"})]}),"\n",(0,t.jsxs)(n.li,{children:["Integrate with ",(0,t.jsx)(n.a,{href:"../jira-integration/installation",children:"Jira"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>d});var r=i(6540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);